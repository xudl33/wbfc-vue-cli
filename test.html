<script>
var par = {
	"type": "object",
	"properties": {
		"code": {
			"type": "string",
			"description": "返回码，默认000，为正常。其他参见返回码表。"
		},
		"msg": {
			"type": "string",
			"description": "返回消息，默认为null。一般会返回错误消息提示。"
		},
		"result": {
			"type": "array",
			"description": "返回结果，默认为null。",
			"items": {
				"$ref": "#/definitions/User"
			},
			"model": [{
				"type": "object",
				"properties": {
					"activeFlag": {
						"type": "string"
					},
					"authFlag": {
						"type": "string"
					},
					"availableDate": {
						"type": "string",
						"format": "date-time"
					},
					"clientId": {
						"type": "string"
					},
					"createDate": {
						"type": "string",
						"format": "date-time"
					},
					"email": {
						"type": "string"
					},
					"extend": {
						"type": "object"
					},
					"id": {
						"type": "integer",
						"format": "int64"
					},
					"loginFlag": {
						"type": "string"
					},
					"loginName": {
						"type": "string"
					},
					"mobile": {
						"type": "string"
					},
					"newExtend": {
						"type": "boolean"
					},
					"openId": {
						"type": "string"
					},
					"parentId": {
						"type": "integer",
						"format": "int64"
					},
					"remarks": {
						"type": "string"
					},
					"updateDate": {
						"type": "string",
						"format": "date-time"
					},
					"userType": {
						"type": "string"
					}
				}
			}]
		}
	}
};
function getTabSpace(num, add){
		if(!add){
			add = 0;
		}
		var tabs = "";
		for(var i = 0; i < num + add; i++){
			tabs += "	";
		}
		return tabs;
	}
function echoParams(params, recIndex){
    //console.log("echoParams=" + uparse(params));
    if(!recIndex){
        recIndex = 0;
    }
    var res = [];
    res.push("{");
    res.push("\n");
    var pLength = 0;
    for(var i in params.properties){
        var temp = params.properties[i];
        var def = getTabSpace(4, recIndex) + i + ": ";
        var comment = "";
        if(temp.type === 'array') {
            var recRes = echoParams(temp.model[0], recIndex + 1);
            def += '[' + recRes +']';
        } else if(temp.type === 'object'){
            var recRes =  "";
            if(temp.model){
                recRes = echoParams(temp.model, recIndex + 1);
            }
            def += '{' + recRes + '}';
        } else {
            def += '""';
        }
        def += ',';
        if(temp.description){
            // decodeURI是因为有些中文字符会莫名的乱码
            comment += (" // " + decodeURI(temp.description));
        }
        res.push(def + comment);
        res.push("\n");
        pLength++;
    }
    // 最后的逗号位= 2 + (2 * pLength) - 2 = 2*pLength
    var lastLine = res[2*pLength];
    res[2*pLength] = lastLine.replace(',', '');
    if(recIndex > 0){
        res.push(getTabSpace(3 + recIndex) + "}");
    } else {
        res.push(getTabSpace(3) + "}");
    }
    return res.join('');
}
console.log(echoParams(par));
</script>